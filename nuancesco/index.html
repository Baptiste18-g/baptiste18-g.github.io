<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="desktop.css" media="(min-width: 1024px)">
    <link rel="stylesheet" href="mobile.css" media="(max-width: 1023px)">
</head>
<body>
    <div class="fond"></div>
    <section class="hero">
        <div class="logo-container">
            <img src="logobrun.svg" alt="Logo" class="logo">
            <img src="textlogobrun.svg" class="brand-name">
            <div class="menu">
                <button id="">
                    <img src="menubar.svg">
                </button>
                <button id="">
                    <img src="bag.svg">
                </button>
            </div>
        </div>
    </section>
    
    <section class="hero2">
        <div class="hero2-fixed">
            <h1 class="titre">Nom de chandelle 1</h1>
            <p class="paragraphe">Lorem ipsum dolor sit amet. In veniam autem ab nihil excepturi aut dolor galisum ab expedita voluptas vel optio voluptatibus! Ea rerum provident in internos dicta eos minus adipisci ut voluptatem odio est perferendis voluptatibus nam facere facere ea soluta vitae.</p>
            <div class="product-actions">
                <div class="price">9,99$</div>

                <button class="add-to-cart" id="cart-btn">
                    Ajouter au panier
                    <span class="icon"><img src="plus.svg"></span>
                </button>
            </div>
        </div>
    </section>

    <section class="hero3">
        <div class="hero3-fixed">
            <h1 class="titre">Brise Boréale</h1>
            <p class="paragraphe">La chaleur du genévrier et du sapin s’entrelace à une sève douce, laissant dans son sillage un souffle pur et apaisant. En quelques instants, l’ambiance se transforme : votre pièce respire la forêt, pleine d’énergie et d’harmonie.
<br>Édition hivernale en série limitée, jusqu’à épuisement des stocks.</p>
            <div class="product-actions">
                <div class="price">12,99$</div>

                <button class="add-to-cart" id="cart-btn">
                    Ajouter au panier
                    <span class="icon"><img src="plus.svg"></span>
                </button>
            </div>
        </div>
    </section>
    
    <section>
        <div class="cercle">
            <img src="illustration-temp.webp" class="positioncercle">
            <!-- <canvas id="animation" class="positioncercle"></canvas> -->
        </div>
    </section>
<script>
window.addEventListener("scroll", () => {
  const scrollTop = window.scrollY;
  const vh = window.innerHeight;

  // Animations du premier écran
  let scroll1 = Math.min(Math.max(scrollTop / vh, 0), 1);
  document.documentElement.style.setProperty("--scroll", scroll1);

  // Animations du deuxième écran (entre 100vh et 200vh)
  let scroll2 = Math.min(Math.max((scrollTop - vh) / vh, 0), 1);
  document.documentElement.style.setProperty("--scroll2", scroll2);

  // Animations du troisième écran (entre 200vh et 300vh)
  let scroll3 = Math.min(Math.max((scrollTop - 2 * vh) / vh, 0), 1);
  document.documentElement.style.setProperty("--scroll3", scroll3);
});

</script>



<script>
const section = document.querySelector('.hero2');
const elements = document.querySelectorAll('.hero2-fixed');

const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      elements.forEach(el => el.classList.add('show-fixed'));
    } else {
      elements.forEach(el => el.classList.remove('show-fixed'));
    }
  });
}, { threshold: 0.75 });

observer.observe(section);
</script>
<script>
const section3 = document.querySelector('.hero3');
const elements3 = document.querySelectorAll('.hero3-fixed');

const observer3 = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      elements3.forEach(el => el.classList.add('show-fixed'));
    } else {
      elements3.forEach(el => el.classList.remove('show-fixed'));
    }
  });
}, { threshold: 0.65 });

observer3.observe(section3);
</script>


<script>
const root = document.documentElement;
const btn = document.getElementById("cart-btn");

function updateButton() {
    let value = parseInt(getComputedStyle(root).getPropertyValue("--ma-variable"));

    if (value > 0) {
        btn.innerHTML = 'Retirer du panier <span class="icon"><img src="minus.svg"></span>';
    } else {
        btn.innerHTML = 'Ajouter au panier <span class="icon"><img src="plus.svg"></span>';
    }
}

// Clic sur le bouton
btn.addEventListener("click", () => {
    let value = parseInt(getComputedStyle(root).getPropertyValue("--ma-variable"));

    if (value === 0) {
        value = 1; // ajoute au panier
    } else {
        value = 0; // retire du panier
    }

    root.style.setProperty("--ma-variable", value);
    updateButton();
});

// Initialisation
updateButton();
</script>

<script src="shopify.js"></script>
<script src="script.js"></script>
</body>

